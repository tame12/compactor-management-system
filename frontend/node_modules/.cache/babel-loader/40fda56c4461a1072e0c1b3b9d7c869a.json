{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wisel\\\\AppData\\\\Local\\\\GitHubDesktop\\\\app-2.9.6\\\\Documents\\\\CODE\\\\compactor-management-system\\\\frontend\\\\src\\\\UI\\\\views\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport login_image from \"../img/login-page.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst google = window.google; // require('dotenv').config()\n// please dont print me when pushing cos its automatically deployed into a public URL :c\n// console.log(process.env)\n// console.log(process.env.REACT_APP_GOOGLE_CLIENT_ID)\n\nconst Login = () => {\n  _s();\n\n  // state isnt good for using across components, if authentication system is outside of google use global state/redux/cache instead of state.\n  const [user, setUser] = useState({});\n\n  function handleCallbackResponse(response) {\n    // JSON web token: response.credential => get google acc info\n    console.log(\"encoded JWT ID token: \", response.credential);\n    var userObject = jwt_decode(response.credential);\n    console.log(userObject);\n    setUser(userObject);\n  }\n\n  useEffect(() => {\n    // global google\n    google.accounts.id.initialize({\n      client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n      callback: handleCallbackResponse\n    }); // if we have no user: sign in button\n    // if we have a user: show the logout button\n\n    google.accounts.id.renderButton(document.getElementById(\"signInDiv\"), {\n      theme: \"outline\",\n      size: \"large\"\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container border-0 mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-7 d-md-block d-none\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: login_image,\n            alt: \"not found\",\n            className: \"w-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-5 \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container bg-light border-light rounded h-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row text-center pt-5 text-secondary\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"WELCOME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Login to your \", /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"gmail account\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 67\n                }, this), \" here\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"signInDiv\",\n              className: \"btn d-flex justify-content-center align-items-center\",\n              type: \"button\",\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.picture,\n        alt: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"MOphQtjs9d2/1fF89EC1/BAUtQ4=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","jwt_decode","login_image","google","window","Login","user","setUser","handleCallbackResponse","response","console","log","credential","userObject","accounts","id","initialize","client_id","process","env","REACT_APP_GOOGLE_CLIENT_ID","callback","renderButton","document","getElementById","theme","size","picture","name"],"sources":["C:/Users/wisel/AppData/Local/GitHubDesktop/app-2.9.6/Documents/CODE/compactor-management-system/frontend/src/UI/views/Login.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport jwt_decode from \"jwt-decode\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport login_image from \"../img/login-page.png\";\r\n\r\nconst google = window.google;\r\n\r\n// require('dotenv').config()\r\n\r\n// please dont print me when pushing cos its automatically deployed into a public URL :c\r\n// console.log(process.env)\r\n// console.log(process.env.REACT_APP_GOOGLE_CLIENT_ID)\r\n\r\nconst Login = () => {\r\n  // state isnt good for using across components, if authentication system is outside of google use global state/redux/cache instead of state.\r\n  const [ user, setUser ] = useState({});\r\n  \r\n  function handleCallbackResponse(response){\r\n    // JSON web token: response.credential => get google acc info\r\n    console.log(\"encoded JWT ID token: \", response.credential);\r\n    var userObject = jwt_decode(response.credential);\r\n    console.log(userObject);\r\n    setUser(userObject);\r\n  }\r\n\r\n  useEffect(() =>{\r\n    // global google\r\n    google.accounts.id.initialize({\r\n    client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID,\r\n      callback: handleCallbackResponse\r\n    });\r\n    // if we have no user: sign in button\r\n    // if we have a user: show the logout button\r\n    google.accounts.id.renderButton(\r\n      document.getElementById(\"signInDiv\"),\r\n      { theme: \"outline\", size:\"large\" }\r\n    );\r\n\r\n  }, [] );\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <div className=\"container border-0 mt-5\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-7 d-md-block d-none\">\r\n              <img src={login_image} alt={\"not found\"} className=\"w-100\"></img>\r\n            </div>\r\n            <div className=\"col-md-5 \">\r\n              <div className=\"container bg-light border-light rounded h-100\">\r\n                <div className=\"row text-center pt-5 text-secondary\"><h1>WELCOME</h1></div>\r\n                <div className=\"row text-center\"><p>Login to your <em>gmail account</em> here</p></div>\r\n                <div id=\"signInDiv\" className=\"btn d-flex justify-content-center align-items-center\" type=\"button\"> </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      {\r\n        user &&\r\n        <div>\r\n          <img src = {user.picture} alt={user.name} ></img>\r\n          <h3>{user.name}</h3>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,sCAAP;AAEA,OAAOC,WAAP,MAAwB,uBAAxB;;AAEA,MAAMC,MAAM,GAAGC,MAAM,CAACD,MAAtB,C,CAEA;AAEA;AACA;AACA;;AAEA,MAAME,KAAK,GAAG,MAAM;EAAA;;EAClB;EACA,MAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;;EAEA,SAASQ,sBAAT,CAAgCC,QAAhC,EAAyC;IACvC;IACAC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,QAAQ,CAACG,UAA/C;IACA,IAAIC,UAAU,GAAGZ,UAAU,CAACQ,QAAQ,CAACG,UAAV,CAA3B;IACAF,OAAO,CAACC,GAAR,CAAYE,UAAZ;IACAN,OAAO,CAACM,UAAD,CAAP;EACD;;EAEDd,SAAS,CAAC,MAAK;IACb;IACAI,MAAM,CAACW,QAAP,CAAgBC,EAAhB,CAAmBC,UAAnB,CAA8B;MAC9BC,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,0BADO;MAE5BC,QAAQ,EAAEb;IAFkB,CAA9B,EAFa,CAMb;IACA;;IACAL,MAAM,CAACW,QAAP,CAAgBC,EAAhB,CAAmBO,YAAnB,CACEC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CADF,EAEE;MAAEC,KAAK,EAAE,SAAT;MAAoBC,IAAI,EAAC;IAAzB,CAFF;EAKD,CAbQ,EAaN,EAbM,CAAT;EAeA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACI;MAAK,SAAS,EAAC,yBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,wBACE;UAAK,SAAS,EAAC,4BAAf;UAAA,uBACE;YAAK,GAAG,EAAExB,WAAV;YAAuB,GAAG,EAAE,WAA5B;YAAyC,SAAS,EAAC;UAAnD;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE;UAAK,SAAS,EAAC,WAAf;UAAA,uBACE;YAAK,SAAS,EAAC,+CAAf;YAAA,wBACE;cAAK,SAAS,EAAC,qCAAf;cAAA,uBAAqD;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAArD;cAAA;cAAA;cAAA;YAAA,QADF,eAEE;cAAK,SAAS,EAAC,iBAAf;cAAA,uBAAiC;gBAAA,0CAAiB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAAjB;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAAjC;cAAA;cAAA;cAAA;YAAA,QAFF,eAGE;cAAK,EAAE,EAAC,WAAR;cAAoB,SAAS,EAAC,sDAA9B;cAAqF,IAAI,EAAC,QAA1F;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAHF;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADJ,EAgBII,IAAI,iBACJ;MAAA,wBACE;QAAK,GAAG,EAAIA,IAAI,CAACqB,OAAjB;QAA0B,GAAG,EAAErB,IAAI,CAACsB;MAApC;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,UAAKtB,IAAI,CAACsB;MAAV;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAjBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD,CApDD;;GAAMvB,K;;KAAAA,K;AAsDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}